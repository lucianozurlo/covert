<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        /* Estilos base para la tabla del calendario */
        #calendar {
            width: 100%;
            max-width: 400px;
            /* tamaño máximo para que no se desborde */
            border-collapse: collapse;
            font-family: Arial, sans-serif;
        }

        /* Estilo del título del calendario (mes y año) y los controles de navegación */
        #calendar caption {
            text-align: center;
            padding: 10px;
            font-size: 1.2em;
            font-weight: bold;
        }

        /* Flechas de navegación dentro del caption */
        #calendar caption a {
            color: inherit;
            /* mismo color que el texto circundante */
            margin: 0 15px;
            text-decoration: none;
            font-weight: normal;
            cursor: pointer;
        }

        /* Encabezados de los días de la semana */
        #calendar th {
            padding: 5px 0;
            background: #f0f0f0;
            font-weight: normal;
            border: 1px solid #ddd;
        }

        /* Celdas de los días */
        #calendar td {
            width: 14.2%;
            /* ~100/7 to distribute evenly */
            padding: 8px 0;
            text-align: center;
            border: 1px solid #ddd;
        }

        /* Enlace de día normal (activo) */
        #calendar td a {
            display: inline-block;
            width: 100%;
            height: 100%;
            text-decoration: none;
            color: #333;
        }

        /* Día actual resaltado */
        #calendar td.hoy a {
            background: #2962FF;
            /* fondo azul intenso por ejemplo */
            color: #fff;
            border-radius: 50%;
            display: inline-block;
            width: 2em;
            height: 2em;
            line-height: 2em;
        }

        /* Enlace deshabilitado (día pasado) */
        #calendar td a.disabled {
            color: #AAA;
            pointer-events: none;
            /* deshabilita clics en este enlace */
            cursor: default;
        }
    </style>
</head>

<body>
    <!-- Tabla del calendario -->
    <table id="calendar">
        <caption></caption>
        <thead>
            <tr>
                <th>Lun</th>
                <th>Mar</th>
                <th>Mié</th>
                <th>Jue</th>
                <th>Vie</th>
                <th>Sáb</th>
                <th>Dom</th>
            </tr>
        </thead>
        <tbody>
            <!-- Las filas y celdas de días se generarán mediante JS -->
        </tbody>
    </table>

    <script>
        // Arreglo con nombres de meses en español
        const nombresMes = ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio",
            "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"];

        // Fecha actual del sistema
        const fechaActual = new Date();
        let anioActual = fechaActual.getFullYear();
        let mesActual = fechaActual.getMonth() + 1;  // (getMonth devuelve 0-11, sumamos 1 para tener 1-12)

        // Función para mostrar el calendario de un año y mes dados
        function mostrarCalendario(anio, mes) {
            // Obtener primer día del mes y último día del mes
            const primerDia = new Date(anio, mes - 1, 1);      // primer día del mes (mes-1 porque 0=enero)
            const ultimoDia = new Date(anio, mes, 0);          // día 0 del mes siguiente => último día del mes actual
            const primerDiaSemana = (primerDia.getDay() === 0 ? 7 : primerDia.getDay()); // 1=lun,...7=dom
            const totalDiasMes = ultimoDia.getDate();

            // Construir las celdas de día
            let resultadoHTML = "<tr>";
            let dia = 1;

            // Celdas vacías hasta el primer día de la semana (si el mes no empieza en lunes)
            for (let i = 1; i < primerDiaSemana; i++) {
                resultadoHTML += "<td></td>";
            }

            // Iterar todos los días del mes
            while (dia <= totalDiasMes) {
                // Determinar día de la semana (1 a 7)
                const diaSemana = (primerDiaSemana + dia - 1) % 7 || 7;
                // Verificar si es el día actual (hoy)
                const esHoy = (anio === fechaActual.getFullYear() && mes === (fechaActual.getMonth() + 1) && dia === fechaActual.getDate());
                // Verificar si es día pasado del mes actual
                const esDiaPasadoEnMesActual = (anio === fechaActual.getFullYear() && mes === (fechaActual.getMonth() + 1) && dia < fechaActual.getDate());

                // Crear celda para el día actual del loop
                if (esHoy) {
                    // Día actual: resaltar
                    resultadoHTML += `<td class="hoy"><a href="#">${dia}</a></td>`;
                } else if (esDiaPasadoEnMesActual) {
                    // Día pasado (mes actual): deshabilitar enlace
                    resultadoHTML += `<td><a href="#" class="disabled">${dia}</a></td>`;
                } else {
                    // Día normal: enlace activo
                    resultadoHTML += `<td><a href="#">${dia}</a></td>`;
                }

                // Fin de fila cada domingo (díaSemana == 7)
                if (diaSemana === 7 && dia !== totalDiasMes) {
                    resultadoHTML += "</tr><tr>";
                }

                dia++;
            }

            // Completar celdas vacías al final si la última semana no está completa (opcional)
            // while (resultadoHTML.split("<td>").length - 1 < 42) { ... } // se podría implementar si se desea cuadrícula fija de 6 filas

            resultadoHTML += "</tr>";

            // Insertar el resultado en la tabla del DOM
            const tabla = document.getElementById("calendar");
            tabla.querySelector("tbody").innerHTML = resultadoHTML;

            // Actualizar el título (caption) con el mes y año, y controles de navegación
            const caption = tabla.querySelector("caption");
            caption.innerHTML = `
            <div>${nombresMes[mes - 1]} ${anio}</div>
            <div>
              <a href="#" onclick="mostrarCalendario(${mes === 1 ? anio - 1 : anio}, ${mes === 1 ? 12 : mes - 1})">&lt;</a>
              <a href="#" onclick="mostrarCalendario(${mes === 12 ? anio + 1 : anio}, ${mes === 12 ? 1 : mes + 1})">&gt;</a>
            </div>
          `;
        }

        // Mostrar el mes actual al cargar la página
        mostrarCalendario(anioActual, mesActual);
    </script>


</body>

</html>